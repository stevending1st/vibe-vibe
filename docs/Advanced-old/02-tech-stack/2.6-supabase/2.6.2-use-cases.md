---
title: "2.6.2 ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒâ€”â€”é€‚ç”¨åœºæ™¯ï¼šå¿«é€ŸåŸå‹ vs ç”Ÿäº§ç¯å¢ƒ"
typora-root-url: ../../public
---

# 2.6.2 é€‚ç”¨åœºæ™¯ï¼šå¿«é€ŸåŸå‹ vs ç”Ÿäº§ç¯å¢ƒ

## ä¸€å¥è¯ç ´é¢˜

Supabase åœ¨"å¿«é€Ÿä¸Šçº¿"åœºæ™¯ä¸‹æ— å¯åŒ¹æ•Œï¼Œä½†åˆ°äº†"æ·±åº¦å®šåˆ¶"é˜¶æ®µå°±è¦æ…é‡è€ƒè™‘äº†ã€‚

## åœºæ™¯å†³ç­–çŸ©é˜µ

```mermaid
flowchart LR
    subgraph Green["âœ… å¼ºçƒˆæ¨è"]
        A["é»‘å®¢æ¾é¡¹ç›®"]
        B["MVP éªŒè¯"]
        C["ä¸ªäººé¡¹ç›®"]
        D["å†…éƒ¨å·¥å…·"]
    end
    
    subgraph Yellow["âš ï¸ å¯ä»¥è€ƒè™‘"]
        E["å°å‹ SaaS"]
        F["å°å›¢é˜Ÿäº§å“"]
        G["å®æ—¶åº”ç”¨"]
    end
    
    subgraph Red["âŒ ä¸å¤ªæ¨è"]
        H["å¤§å‹ä¼ä¸šåº”ç”¨"]
        I["é«˜åˆè§„è¦æ±‚"]
        J["å¤æ‚ä¸šåŠ¡é€»è¾‘"]
    end
```

## âœ… å¼ºçƒˆæ¨èçš„åœºæ™¯

### 1. é»‘å®¢æ¾ / 48å°æ—¶æ¯”èµ›

```typescript
// 10 åˆ†é’Ÿæ­å»ºå®Œæ•´åç«¯
// 1. åˆ›å»ºé¡¹ç›®ï¼ˆsupabase.comï¼‰
// 2. å»ºè¡¨ï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰
// 3. å†™ä»£ç 

const { data } = await supabase
  .from('submissions')
  .insert({ name, idea, team_id })
  .select()

// å®Œæˆï¼ä¸ç”¨é…ç½®æ•°æ®åº“ã€ä¸ç”¨å†™ API
```

**ä¸ºä»€ä¹ˆé€‚åˆ**ï¼šæ—¶é—´ç´§è¿«ï¼ŒéªŒè¯æƒ³æ³•æ¯”ä»£ç è´¨é‡é‡è¦ã€‚

### 2. MVP äº§å“éªŒè¯

| é˜¶æ®µ | ç”¨ Supabase | ä¼ ç»Ÿæ–¹å¼ |
|------|-------------|----------|
| æ­å»ºåç«¯ | 1 å¤© | 1-2 å‘¨ |
| ç”¨æˆ·è®¤è¯ | 30 åˆ†é’Ÿ | 2-3 å¤© |
| æ–‡ä»¶ä¸Šä¼  | 1 å°æ—¶ | 1-2 å¤© |
| **æ€»è®¡** | **1-2 å¤©** | **2-3 å‘¨** |

**æ ¸å¿ƒä»·å€¼**ï¼šå¿«é€ŸéªŒè¯äº§å“å‡è®¾ï¼Œå¤±è´¥äº†æŸå¤±æœ€å°ã€‚

### 3. ä¸ªäººé¡¹ç›® / Side Project

```typescript
// ä¸ªäººåšå®¢ã€ç¬”è®°åº”ç”¨ã€TODO å·¥å…·ç­‰
// å…è´¹é¢åº¦å®Œå…¨å¤Ÿç”¨ï¼š
// - 500MB æ•°æ®åº“
// - 1GB æ–‡ä»¶å­˜å‚¨
// - 200 å¹¶å‘è¿æ¥
```

### 4. å†…éƒ¨å·¥å…·

- åå°ç®¡ç†ç³»ç»Ÿ
- æ•°æ®çœ‹æ¿
- å›¢é˜Ÿåä½œå·¥å…·

**ä¼˜åŠ¿**ï¼šç”¨æˆ·é‡å¯æ§ï¼Œå…è´¹é¢åº¦å¤Ÿç”¨ï¼Œå¿«é€Ÿè¿­ä»£ã€‚

## âš ï¸ å¯ä»¥è€ƒè™‘çš„åœºæ™¯

### å°å‹ SaaS äº§å“

```mermaid
flowchart TD
    Start["å°å‹ SaaS"] --> Q1{"ç”¨æˆ·é‡é¢„æœŸ?"}
    Q1 -->|"< 1000 MAU"| OK["âœ… Supabase å¤Ÿç”¨"]
    Q1 -->|"1000-10000 MAU"| Pro["ğŸ’° éœ€è¦ Pro è®¡åˆ’"]
    Q1 -->|"> 10000 MAU"| Consider["âš ï¸ è¯„ä¼°æˆæœ¬"]
```

### å®æ—¶åä½œåº”ç”¨

```typescript
// Supabase Realtime å¼€ç®±å³ç”¨
const channel = supabase
  .channel('room:123')
  .on('broadcast', { event: 'cursor' }, (payload) => {
    updateCursor(payload.userId, payload.position)
  })
  .subscribe()

// å¹¿æ’­é¼ æ ‡ä½ç½®
channel.send({
  type: 'broadcast',
  event: 'cursor',
  payload: { userId, position },
})
```

**æ³¨æ„**ï¼šå…è´¹ç‰ˆé™åˆ¶ 200 å¹¶å‘è¿æ¥ã€‚

## âŒ ä¸å¤ªæ¨èçš„åœºæ™¯

### 1. å¤æ‚ä¸šåŠ¡é€»è¾‘

```typescript
// âŒ å¤æ‚ä¸šåŠ¡è§„åˆ™éš¾ä»¥ç”¨ RLS è¡¨è¾¾
// ä¾‹å¦‚ï¼šå¤šçº§å®¡æ‰¹ã€åŠ¨æ€æƒé™ã€å¤æ‚è®¡è´¹è§„åˆ™

// è¿™ç§é€»è¾‘æ”¾åœ¨ Supabase RLS é‡Œä¼šå¾ˆç—›è‹¦
// å»ºè®®ä½¿ç”¨ä¼ ç»Ÿåç«¯ + ä¸šåŠ¡å±‚
```

### 2. é«˜åˆè§„è¦æ±‚

| è¦æ±‚ | Supabase æ”¯æŒ |
|------|---------------|
| æ•°æ®æœ¬åœ°åŒ– | âš ï¸ æœ‰é™ï¼ˆéƒ¨åˆ†åŒºåŸŸï¼‰ |
| å®¡è®¡æ—¥å¿— | âš ï¸ éœ€è¦é¢å¤–é…ç½® |
| HIPAA | âŒ éœ€è¦ä¼ä¸šç‰ˆ |
| PCI DSS | âŒ ä¸æ”¯æŒ |

### 3. å·²æœ‰æˆç†ŸåŸºç¡€è®¾æ–½

```
å¦‚æœä½ å·²ç»æœ‰ï¼š
- è¿ç»´å›¢é˜Ÿ
- CI/CD æµç¨‹
- ç›‘æ§å‘Šè­¦
- è‡ªå»ºè®¤è¯ç³»ç»Ÿ

é‚£ä¹ˆ Supabase çš„ä»·å€¼å°±æ²¡é‚£ä¹ˆå¤§äº†
```

## æ··åˆæ–¹æ¡ˆ

### Supabase + è‡ªå»ºåç«¯

```mermaid
flowchart LR
    Client["å®¢æˆ·ç«¯"]
    
    subgraph Supabase
        Auth["è®¤è¯"]
        Storage["å­˜å‚¨"]
    end
    
    subgraph Custom["è‡ªå»ºåç«¯"]
        API["API æœåŠ¡"]
        BL["ä¸šåŠ¡é€»è¾‘"]
        DB["è‡ªå»ºæ•°æ®åº“"]
    end
    
    Client --> Auth
    Client --> Storage
    Client --> API
    API --> BL --> DB
```

```typescript
// åªç”¨ Supabase çš„ Auth å’Œ Storage
// ä¸šåŠ¡é€»è¾‘èµ°è‡ªå»ºåç«¯

// 1. ç”¨ Supabase ç™»å½•
const { data: { session } } = await supabase.auth.getSession()

// 2. è°ƒç”¨è‡ªå»º APIï¼ˆå¸¦ä¸Š tokenï¼‰
const response = await fetch('/api/orders', {
  headers: {
    Authorization: `Bearer ${session?.access_token}`,
  },
})

// 3. è‡ªå»ºåç«¯éªŒè¯ Supabase JWT
import { createClient } from '@supabase/supabase-js'
const { data: { user } } = await supabase.auth.getUser(token)
```

## è§‰çŸ¥ï¼šåœºæ™¯é€‰æ‹©å¸¸è§è¯¯åŒº

### 1. "å…è´¹å°±ç”¨ Supabase"

```
âŒ é”™è¯¯è®¤çŸ¥ï¼šå› ä¸ºå…è´¹æ‰€ä»¥ç”¨
âœ… æ­£ç¡®æ€è€ƒï¼šå› ä¸ºé€‚åˆåœºæ™¯æ‰€ä»¥ç”¨

å³ä½¿ Supabase æ”¶è´¹ï¼Œå¦‚æœèƒ½å¸®ä½ èŠ‚çœ 2 å‘¨å¼€å‘æ—¶é—´ï¼Œ
é‚£ä¹Ÿæ˜¯å€¼å¾—çš„ã€‚
```

### 2. "ç”Ÿäº§ç¯å¢ƒä¸èƒ½ç”¨ BaaS"

```
âŒ é”™è¯¯è®¤çŸ¥ï¼šBaaS åªèƒ½åšåŸå‹
âœ… ç°å®æƒ…å†µï¼š

å¾ˆå¤šå…¬å¸ç”¨ Supabase è·‘ç”Ÿäº§ï¼š
- ç”¨æˆ·é‡ä¸å¤§çš„ SaaS
- å†…éƒ¨å·¥å…·
- ç‰¹å®šæ¨¡å—ï¼ˆè®¤è¯ã€å­˜å‚¨ï¼‰
```

### 3. "ä»¥åè‚¯å®šè¦è¿ç§»ï¼Œä¸å¦‚ç°åœ¨è‡ªå»º"

```
âŒ è¿‡æ—©ä¼˜åŒ–
âœ… YAGNI åŸåˆ™

å¦‚æœé¡¹ç›®å¯èƒ½å¤±è´¥ï¼Œå…ˆéªŒè¯å†ä¼˜åŒ–ã€‚
è¿ç§»æˆæœ¬ < éªŒè¯å¤±è´¥çš„æ—¶é—´æˆæœ¬ã€‚
```

## æœ¬èŠ‚å°ç»“

| åœºæ™¯ | æ¨èåº¦ | ç†ç”± |
|------|--------|------|
| é»‘å®¢æ¾/MVP | â­â­â­â­â­ | é€Ÿåº¦ç¬¬ä¸€ |
| ä¸ªäººé¡¹ç›® | â­â­â­â­â­ | å…è´¹å¤Ÿç”¨ |
| å°å‹ SaaS | â­â­â­â­ | æˆæœ¬å¯æ§ |
| å®æ—¶åº”ç”¨ | â­â­â­â­ | å¼€ç®±å³ç”¨ |
| å¤æ‚ä¸šåŠ¡ | â­â­ | å®šåˆ¶å›°éš¾ |
| ä¼ä¸šåº”ç”¨ | â­ | åˆè§„é—®é¢˜ |
