---
title: "12.5 超大文件如何秒传——文件分片传输：断点续传/完整性校验"
typora-root-url: ../../public
---

# 12.5 超大文件如何秒传——文件分片传输：断点续传/完整性校验

### 一句话破题

大文件上传的核心策略是"化整为零"——把文件切成小块分别传输，失败了只需重传失败的块，这就是断点续传和秒传的原理。

### 核心价值

用户上传大文件时面临的挑战：

- **网络中断**：上传到 99% 时断网，一切重来？
- **超时问题**：单个请求传输几 GB 数据容易超时
- **内存爆炸**：一次性加载大文件会撑爆浏览器内存
- **进度反馈**：用户需要知道上传进度

分片上传解决所有这些问题。

### 本章导览

```mermaid
graph LR
    A["分片上传原理"] --> B["断点续传"]
    B --> C["完整性校验"]
    C --> D["错误处理"]
    
    style A fill:#e3f2fd
    style D fill:#c8e6c9
```

1. **分片上传原理**：将大文件切成小块并行传输
2. **断点续传**：记录进度，中断后继续
3. **完整性校验**：确保传输的数据没有损坏
4. **错误处理**：重试机制和用户反馈

### 为什么 Vibe Coder 要学这个？

文件上传是几乎所有应用都需要的功能：

- 用户头像、文档附件
- 视频平台的内容上传
- 云存储服务
- 大模型训练数据上传

> **关键洞察**：虽然云存储服务（如 AWS S3、Cloudflare R2）提供了预签名 URL 直传，但理解分片上传的原理能让你在遇到问题时知道该如何调试。
