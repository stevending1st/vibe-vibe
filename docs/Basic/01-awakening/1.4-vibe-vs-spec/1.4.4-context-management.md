---
title: "1.4.4 Context 管理技巧"
---

# 1.4.4 Context 管理技巧

## Context 基础概念

**Context = AI 能看到的所有背景信息。**

包括当前和之前的对话内容、提供的代码文件、AI的回复以及项目历史信息。Context的质量直接影响AI的协助效果。

每个AI模型的记忆容量有限：
- **GPT-4**：约2.5万字（一篇长文章）
- **Claude 3**：约15万字（一本小册子）
- **新模型**：容量更大

超出限制会导致AI"忘记"早期内容，造成理解偏差。

## 三层Context管理体系

### 即时Context（当前对话层）
**目标**：让AI准确理解当前任务需求

**核心技巧**：
- 重要信息优先放在对话开头或结尾
- 使用具体示例说明问题，避免模糊表述
- 提供错误详情而非简单描述

**示例对比**：
```
❌ 模糊："这个功能有问题"
✅ 具体："点击'保存'按钮后页面无反应，控制台显示'Cannot read property 'value' of null'"
```

### 中期Context（项目状态层）
**目标**：让AI掌握项目整体进展情况

**关键信息**：
- 项目核心功能和开发进度
- 已知问题和限制条件
- 技术栈选择和架构决策

**维护方法**：定期总结项目状态，记录重要决策原因，保持信息实时更新。

### 长期Context（项目历史层）
**目标**：为长期项目提供发展连贯性

**档案内容**：项目初始需求、关键架构决策、用户反馈调整、版本迭代记录。

## 实用Context管理策略

### 对话管理技巧

**任务启动时重置Context**（30秒完成）：
```
项目：记账应用（已完成基础记账和统计）
当前任务：添加预算管理功能
技术栈：React + Node.js
问题：[描述具体问题]
```

**定期对话总结**（每10-15轮对话）：
```
已完成功能：
1. 用户登录注册
2. 收支记录功能
3. 基础统计图表

下步重点：预算管理与现有功能集成
```

**对话主题分离**：
- 功能开发 → 独立对话
- Bug修复 → 专门对话
- 架构讨论 → 单独对话

### 项目文档模板

```markdown
# 项目背景
## 目标：个人记账工具
## 已实现：收支记录、月度统计、数据导出
## 技术栈：React + Node.js + SQLite
## 当前问题：[记录具体问题]
```

## Context质量检查与优化

### 关键检查点
- **信息完整性**：是否包含项目背景、当前状态、具体问题
- **准确性**：技术栈、进度状态是否最新
- **清晰度**：问题描述是否足够具体
- **相关性**：是否去除不相关的历史信息

### 常见问题及解决方案

**问题1：信息过载**
- 解决：聚焦当前任务，移除无关历史信息

**问题2：假设AI记住一切**
- 解决：每次对话都重置关键背景信息

**问题3：缺乏更新**
- 解决：定期同步项目状态变化

**问题4：过度依赖单个对话**
- 解决：分离不同主题，使用专门对话

### 优化时机识别

**需要新对话的信号**：
- 对话超过15-20轮
- 任务方向发生重大变化
- AI开始重复之前的错误理解
- 需要讨论完全不同的功能模块

通过系统的Context管理，可以显著提升AI编程的效率和准确性。